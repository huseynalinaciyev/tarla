<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tarla Oyunu - M√ºr…ôkk…ôb Versiya</title>
<style>
  body { font-family: Arial, sans-serif; background: #d0f0c0; padding: 20px; }
  h1 { color: #2e7d32; text-align: center; }
  #game { max-width: 600px; margin: auto; background: #a5d6a7; padding: 20px; border-radius: 15px; }
  #fields { display: flex; justify-content: space-around; margin-bottom: 20px; }
  .field {
    width: 120px; height: 120px; background: #4caf50; border-radius: 12px;
    display: flex; align-items: center; justify-content: center; flex-direction: column;
    color: white; font-weight: bold; cursor: pointer; position: relative;
  }
  .field img {
    width: 60px; height: 60px; margin-bottom: 8px;
  }
  .field.locked {
    background: #8bc34a99;
    cursor: not-allowed;
  }
  button {
    padding: 10px 20px; margin: 5px; border: none; border-radius: 8px;
    background-color: #388e3c; color: white; cursor: pointer;
    font-weight: bold;
  }
  button:disabled {
    background-color: #a5d6a7;
    cursor: not-allowed;
  }
  #status { margin-top: 15px; font-weight: bold; min-height: 20px; }
  #inventory { margin-top: 20px; background: #81c784cc; padding: 10px; border-radius: 10px; }
  #inventory p { margin: 5px 0; }
</style>
</head>
<body>

<h1>Tarla Oyunu</h1>

<div id="game">
  <div id="fields">
    <div class="field" id="field1" onclick="selectField(1)">Bo≈ü</div>
    <div class="field" id="field2" onclick="selectField(2)">Bo≈ü</div>
    <div class="field locked" id="field3" title="Bu sah…ô kilidlidir. Daha √ßox coin topla!">Kilidli</div>
  </div>

  <div style="text-align:center;">
    <button onclick="plant()" id="btnPlant" disabled>Ekin ∆èkm…ôk üå±</button>
    <button onclick="water()" id="btnWater" disabled>Suvarmaq üíß</button>
    <button onclick="harvest()" id="btnHarvest" disabled>Bi√ßm…ôk ‚úÇÔ∏è</button>
  </div>

  <div id="status"></div>

  <div id="inventory">
    <p>Coin: <span id="coin">0</span></p>
    <p>Toyuq sayƒ±: <span id="chickenCount">0</span></p>
    <p>Yumurta sayƒ±: <span id="eggCount">0</span></p>
    <button onclick="buyChicken()" id="btnBuyChicken">Toyuq Al (50 coin)</button>
    <button onclick="feedChicken()" id="btnFeedChicken" disabled>Yem Ver (10 coin)</button>
    <button onclick="sellEggs()" id="btnSellEggs" disabled>Yumurta Sat (5 coin h…ôr biri)</button>
  </div>
</div>

<script>
  // Oyun v…ôziyy…ôti
  let fields = {
    1: { stage: 0 }, // 0 = bo≈ü, 1 = …ôkilmi≈ü, 2 = suvarƒ±lmƒ±≈ü, 3 = yeti≈ümi≈ü
    2: { stage: 0 },
    3: { stage: 0, locked: true }
  };
  let selectedField = null;

  let coin = 0;
  let chickenCount = 0;
  let eggCount = 0;

  function updateStatus(text) {
    document.getElementById('status').innerText = text;
  }
  function updateInventory() {
    document.getElementById('coin').innerText = coin;
    document.getElementById('chickenCount').innerText = chickenCount;
    document.getElementById('eggCount').innerText = eggCount;

    document.getElementById('btnFeedChicken').disabled = chickenCount === 0 || coin < 10;
    document.getElementById('btnSellEggs').disabled = eggCount === 0;
    document.getElementById('btnBuyChicken').disabled = coin < 50;
  }
  function updateFields() {
    for(let i=1; i<=3; i++) {
      const field = document.getElementById(`field${i}`);
      const info = fields[i];

      if(info.locked) {
        field.classList.add('locked');
        field.innerText = "Kilidli";
        field.style.cursor = "not-allowed";
        continue;
      }

      switch(info.stage) {
        case 0:
          field.innerText = "Bo≈ü";
          field.style.background = "#4caf50";
          break;
        case 1:
          field.innerHTML = `<img src="https://i.imgur.com/O5rXmLk.png" alt="toxum"/> Toxum …ôkildi`;
          field.style.background = "#81c784";
          break;
        case 2:
          field.innerHTML = `<img src="https://i.imgur.com/eH3q3Dw.png" alt="bitki"/> Bitki b√∂y√ºy√ºr`;
          field.style.background = "#388e3c";
          break;
        case 3:
          field.innerHTML = `<img src="https://i.imgur.com/6bREmYY.png" alt="yeti≈ümi≈ü"/> Yeti≈ümi≈ü bitki`;
          field.style.background = "#1b5e20";
          break;
      }
    }
  }

  function selectField(num) {
    if(fields[num].locked) {
      updateStatus("Bu sah…ô kilidlidir. Daha √ßox coin toplayanda a√ßƒ±lacaq.");
      return;
    }
    selectedField = num;
    updateStatus(`S…ôn sah…ô ${num}-ni se√ßdin.`);
    document.getElementById('btnPlant').disabled = fields[num].stage !== 0;
    document.getElementById('btnWater').disabled = fields[num].stage !== 1;
    document.getElementById('btnHarvest').disabled = fields[num].stage !== 3;
  }

  function plant() {
    if(selectedField === null) {
      updateStatus("∆èvv…ôlc…ô bir sah…ô se√ß.");
      return;
    }
    if(fields[selectedField].stage !== 0) {
      updateStatus("Bu sah…ôd…ô artƒ±q ekin var.");
      return;
    }
    fields[selectedField].stage = 1;
    updateFields();
    updateStatus("Ekin …ôkildi!");
    updateButtons();
  }

  function water() {
    if(selectedField === null) {
      updateStatus("∆èvv…ôlc…ô bir sah…ô se√ß.");
      return;
    }
    if(fields[selectedField].stage !== 1) {
      updateStatus("Bu sah…ôd…ô suvarmaƒüa ehtiyac yoxdur.");
      return;
    }
    fields[selectedField].stage = 2;
    updateFields();
    updateStatus("Tarlan suvarƒ±ldƒ±!");

    // 5 saniy…ô sonra yeti≈ümi≈ü olur
    setTimeout(() => {
      if(fields[selectedField].stage === 2) {
        fields[selectedField].stage = 3;
        updateFields();
        updateStatus("Ekin yeti≈üdi! Bi√ßm…ôy…ô hazƒ±rdƒ±r.");
        updateButtons();
      }
    }, 5000);
    updateButtons();
  }

  function harvest() {
    if(selectedField === null) {
      updateStatus("∆èvv…ôlc…ô bir sah…ô se√ß.");
      return;
    }
    if(fields[selectedField].stage !== 3) {
      updateStatus("Ekin h…ôl…ô yeti≈üm…ôyib.");
      return;
    }
    fields[selectedField].stage = 0;
    coin += 20;
    updateFields();
    updateStatus("Ekin bi√ßildi! 20 coin qazandƒ±n.");
    updateInventory();
    updateButtons();

    // Kilidli sah…ôni a√ßmaq √º√ß√ºn coin limiti
    if(coin >= 100 && fields[3].locked) {
      fields[3].locked = false;
      document.getElementById('field3').classList.remove('locked');
      updateStatus("Yeni sah…ô a√ßƒ±ldƒ±! Sah…ô 3 artƒ±q istifad…ôy…ô hazƒ±rdƒ±r.");
      updateFields();
    }
  }

  function buyChicken() {
    if(coin < 50) {
      updateStatus("Toyuq almaq √º√ß√ºn kifay…ôt q…ôd…ôr coin yoxdur.");
      return;
    }
    chickenCount++;
    coin -= 50;
    updateStatus("Toyuq alƒ±ndƒ±!");
    updateInventory();
    updateButtons();
  }

  function feedChicken() {
    if(chickenCount === 0) {
      updateStatus("∆èvv…ôlc…ô toyuq almalƒ±san.");
      return;
    }
    if(coin < 10) {
      updateStatus("Yem almaq √º√ß√ºn kifay…ôt q…ôd…ôr coin yoxdur.");
      return;
    }
    coin -= 10;
    eggCount += chickenCount; // H…ôr toyuq bir yumurta verir
    updateStatus("Toyuqlara yem verildi, yumurtalar toplandƒ±!");
    updateInventory();
    updateButtons();
  }

  function sellEggs() {
    if(eggCount === 0) {
      updateStatus("Satmaq √º√ß√ºn yumurta yoxdur.");
      return;
    }
    const earnings = eggCount * 5;
    coin += earnings;
    updateStatus(`Yumurtalar satƒ±ldƒ±! ${earnings} coin qazandƒ±n.`);
    eggCount = 0;
    updateInventory();
    updateButtons();
  }

  function updateButtons() {
    if(selectedField === null) {
      document.getElementById('btnPlant').disabled = true;
      document.getElementById('btnWater').disabled = true;
      document.getElementById('btnHarvest').disabled = true;
    } else {
      document.getElementById('btnPlant').disabled = fields[selectedField].stage !== 0;
      document.getElementById('btnWater').disabled = fields[selectedField].stage !== 1;
      document.getElementById('btnHarvest').disabled = fields[selectedField].stage !== 3;
    }

    document.getElementById('btnFeedChicken').disabled = chickenCount === 0 || coin < 10;
    document.getElementById('btnSellEggs').disabled = eggCount === 0;
    document.getElementById('btnBuyChicken').disabled = coin < 50;
  }

  // Ba≈ülanƒüƒ±c yenil…ôm…ôl…ôr
  updateFields();
  updateInventory();
  updateButtons();
</script>

</body>
</html>
